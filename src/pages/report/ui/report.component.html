<div class="container mx-auto px-4 py-8 max-w-2xl">
    <!-- Header -->
    <div class="text-center mb-8">
        <h1 class="dokkan-header text-3xl md:text-4xl mb-2">Contact Us</h1>
        <p class="text-gray-400">Share your thoughts, report issues, or suggest improvements</p>
    </div>

    @if (isSubmittedSuccessfully()) {
    <app-successfully-submitted />
    } @else {
    <!-- Form Panel -->
    <div class="dokkan-panel p-6 md:p-8 bg-opacity-90">
        <form class="flex flex-col gap-6" [formGroup]="reportForm" (ngSubmit)="onSubmit()">

            <!-- Type Select -->
            <div class="flex flex-col gap-2">
                <label class="text-sm font-semibold text-gray-400 uppercase" for="type">
                    Type of message
                </label>
                <ng-select id="type" formControlName="type" class="custom-select" [searchable]="false"
                    [clearable]="false" placeholder="Select a type...">
                    <ng-option value="issue">ğŸ› Report an issue</ng-option>
                    <ng-option value="feedback">ğŸ’¬ Give a feedback</ng-option>
                    <ng-option value="suggestion">ğŸ’¡ Give a suggestion</ng-option>
                </ng-select>
                @if (reportForm.get('type')?.touched && reportForm.get('type')?.hasError('required')) {
                <span class="text-red-400 text-sm">Please select a type</span>
                }
            </div>

            <!-- Message Textarea -->
            <div class="flex flex-col gap-2">
                <label class="text-sm font-semibold text-gray-400 uppercase" for="message">
                    Your message
                </label>
                <textarea id="message" formControlName="message" rows="6"
                    placeholder="Describe your issue, feedback, or suggestion in detail..."
                    class="w-full placeholder:text-[#9ca3af] bg-gray-800 border border-gray-600 rounded p-3 text-white focus:outline-none focus:border-orange-500 transition-colors resize-none"></textarea>
                @if (reportForm.get('message')?.touched && reportForm.get('message')?.hasError('required')) {
                <span class="text-red-400 text-sm">Please enter a message</span>
                }

            </div>

            <!-- Submit Button -->
            <div class="flex justify-center mt-4 pt-6 border-t border-gray-700">
                <button type="submit" [disabled]="reportForm.invalid"
                    class="group flex items-center gap-3 px-10 py-3 bg-gradient-to-r from-orange-500 to-yellow-500 hover:from-orange-400 hover:to-yellow-400 font-bold text-lg uppercase tracking-wider rounded shadow-lg transform transition-all duration-300 hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none disabled:hover:scale-100">
                    <svg class="w-5 h-5 transition-transform group-hover:translate-x-1" fill="none"
                        stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M12 19l9 2-9-18-9 18 9-2zm0 0v-8" />
                    </svg>
                    Send Message
                </button>
            </div>
        </form>
    </div>

    <div class="mt-6 text-center text-sm text-gray-500">
        <p>Thank you for your report</p>
    </div>
    }
</div>
@if (isLoading()) {
<app-loader [isVisible]="isLoading()" />
}